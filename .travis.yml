---
language: go

# we support the most two recent releases, and (hopefully) the tip.
go:
  - "1.10"

cache:
  directories:
    - vendor

install:
  - mkdir tools
  - curl -L https://github.com/Masterminds/glide/releases/download/v0.13.1/glide-v0.13.1-linux-amd64.tar.gz | tar -xzv --strip-components=1 -C tools
  - chmod +x tools/glide
  - export PATH=$(pwd)/tools:$PATH
  - glide install

script:
  - make fmt
  - make
